@page "/"
@inject IHttpClientFactory HttpClientFactory

<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />

<h2>Recently Updates</h2>

@if (RecentlyUpdates != null)
{
    <ul>
        @foreach (var update in RecentlyUpdates)
        {
            <li>@update</li>
        }
    </ul>
}


@code {
    string[] RecentlyUpdates;

    protected override async Task OnInitializedAsync()
    {
        var http = HttpClientFactory.CreateClient("BlazorWasmApp.AnonymousAPI");
        RecentlyUpdates = await http.GetFromJsonAsync<string[]>("RecentlyUpdates");
    }
}